:root {
  --bg: #0b1020;
  --bg-2: #171f40;
  --panel: rgba(20, 24, 52, 0.72);
  --panel-border: rgba(255, 255, 255, 0.1);
  --text: #f6f8ff;
  --muted: #a8b1df;
  --accent: #7c5cff;
  --shadow: 0 24px 64px rgba(2, 8, 35, 0.45);
}
:root[data-theme="sunrise"] { --bg:#26140f; --bg-2:#663530; --panel:rgba(63,29,25,.7); --panel-border:rgba(255,219,195,.24); --text:#fff4eb; --muted:#f3c7a7; --accent:#ff8f5a; }
:root[data-theme="forest"] { --bg:#071711; --bg-2:#1a4736; --panel:rgba(16,42,33,.72); --panel-border:rgba(190,255,221,.2); --text:#e9fff5; --muted:#9ad7bc; --accent:#3ed49e; }
:root[data-theme="mono"] { --bg:#101112; --bg-2:#25272b; --panel:rgba(27,30,34,.74); --panel-border:rgba(255,255,255,.14); --text:#f4f4f4; --muted:#bbb; --accent:#f0f0f0; }
:root[data-theme="ocean"] { --bg:#051521; --bg-2:#083c5a; --panel:rgba(11,36,54,.76); --panel-border:rgba(166,229,255,.2); --text:#e7f8ff; --muted:#8dd1ee; --accent:#3fb9ff; }
:root[data-theme="lavender"] { --bg:#1d1730; --bg-2:#4f3d73; --panel:rgba(45,35,71,.76); --panel-border:rgba(235,220,255,.22); --text:#f6efff; --muted:#cdb6ef; --accent:#bb8cff; }
:root[data-theme="solar"] { --bg:#2a1a05; --bg-2:#734307; --panel:rgba(63,38,9,.75); --panel-border:rgba(255,228,155,.25); --text:#fff8df; --muted:#f2d080; --accent:#ffbc42; }

* { box-sizing: border-box; }
body { margin:0; min-height:100vh; font-family:Inter,system-ui,sans-serif; color:var(--text); background:radial-gradient(circle at top left, var(--bg-2), var(--bg) 60%, #04060c 100%); }
.screen { display:none; min-height:100vh; }
.screen.active { display:grid; }
#home-screen { place-items:center; padding:1rem; }
.hero-card { max-width:760px; background:var(--panel); border:1px solid var(--panel-border); border-radius:26px; padding:2rem; box-shadow:var(--shadow); backdrop-filter:blur(14px); }
.kicker{ color:var(--accent); letter-spacing:.12em; text-transform:uppercase; font-size:.75rem; }
.hero-card h1{ margin:.5rem 0; font-size:clamp(1.8rem,4vw,3rem); }
.subcopy{ color:var(--muted); max-width:58ch; }
.home-actions{ margin:1.2rem 0 1rem; }
.feature-pills{ display:flex; flex-wrap:wrap; gap:.5rem; }
.feature-pills span{ border:1px solid var(--panel-border); padding:.4rem .65rem; border-radius:999px; color:var(--muted); }

.app-shell { display:grid; grid-template-columns:290px 1fr; gap:1rem; padding:1rem; min-height:100vh; }
.panel { border:1px solid var(--panel-border); background:var(--panel); border-radius:24px; box-shadow:var(--shadow); backdrop-filter:blur(12px); }
.projects-panel { padding:1rem; }
.timer-panel { padding:1.2rem; display:grid; gap:1rem; }

.panel-header,.card-header,.timer-header { display:flex; align-items:center; justify-content:space-between; gap:.75rem; }
.timer-header { align-items:flex-start; }
.header-actions { display:flex; gap:.55rem; align-items:center; flex-wrap:wrap; justify-content:flex-end; }
.theme-picker-wrap { display:grid; gap:.2rem; color:var(--muted); font-size:.78rem; }
.eyebrow { color:var(--muted); font-size:.72rem; margin:0; text-transform:uppercase; letter-spacing:.08em; }
h1,h2,h3,p { margin:0; }
.shortcut-hint { color:var(--muted); font-size:.8rem; }
kbd { border:1px solid var(--panel-border); padding:.1rem .35rem; border-radius:6px; }

.timer-modes { display:inline-flex; padding:.35rem; border-radius:999px; background:rgba(255,255,255,.05); width:fit-content; }
.mode-btn { border:none; background:transparent; color:var(--muted); border-radius:999px; padding:.45rem .8rem; cursor:pointer; font-weight:600; }
.mode-btn.active { color:#fff; background:rgba(255,255,255,.18); }

.countdown-wrap { position:relative; width:min(360px,100%); margin:0 auto; aspect-ratio:1; display:grid; place-items:center; }
.progress-ring { width:100%; transform:rotate(-90deg); }
.ring-bg,.ring-progress { fill:none; stroke-width:14; }
.ring-bg { stroke:rgba(255,255,255,.1); }
.ring-progress { stroke:var(--accent); stroke-linecap:round; transition:stroke-dashoffset .25s linear; }
.time-stack { position:absolute; text-align:center; }
.session-label,.cycle-display,.muted { color:var(--muted); }
.time-display { font-size:clamp(2.4rem,6vw,4rem); font-weight:800; letter-spacing:.03em; }

.controls { display:flex; gap:.6rem; flex-wrap:wrap; justify-content:center; }
button,.chip,select,input { border:1px solid var(--panel-border); border-radius:12px; background:rgba(255,255,255,.06); color:inherit; padding:.62rem .95rem; font:inherit; }
button { cursor:pointer; }
.primary { background:linear-gradient(145deg,var(--accent),color-mix(in oklab,var(--accent),white 15%)); border-color:transparent; color:#fff; }
.icon-btn { width:2rem; height:2rem; display:grid; place-items:center; border-radius:999px; font-size:1.15rem; padding:0; }
.badge { border-radius:999px; padding:.4rem .7rem; background:rgba(8,214,163,.16); color:#83ffe1; font-size:.78rem; }

.grid.three-col { display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:.9rem; }
.card { border:1px solid var(--panel-border); background:rgba(255,255,255,.04); border-radius:20px; padding:1rem; }
.settings-grid { display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:.65rem; margin-top:.7rem; }
.settings-grid label,.dialog-form label { display:grid; gap:.35rem; color:var(--muted); font-size:.92rem; }
.switch-row { grid-column:span 2; display:flex !important; align-items:center; gap:.5rem; }
.inline-form { display:flex; gap:.5rem; }

progress { width:100%; height:12px; accent-color:var(--accent); margin-top:.45rem; }

.project-list,.todo-list { list-style:none; padding:0; margin:.8rem 0 0; display:grid; gap:.5rem; }
.project-item,.todo-item { display:flex; align-items:center; justify-content:space-between; gap:.6rem; background:rgba(255,255,255,.05); border-radius:12px; padding:.6rem .75rem; }
.project-item.active { outline:2px solid var(--accent); }
.project-tag { width:.9rem; height:.9rem; border-radius:999px; flex-shrink:0; }
.todo-text.done { text-decoration:line-through; color:var(--muted); }
.stats-card canvas { width:100%; height:auto; margin-top:.6rem; background:rgba(4,7,20,.5); border-radius:14px; }
dialog { border:1px solid var(--panel-border); border-radius:14px; background:color-mix(in oklab,var(--bg),#111 20%); color:var(--text); }
menu { display:flex; justify-content:flex-end; gap:.5rem; margin-top:1rem; }

.zen-overlay {
  position: fixed;
  inset: 0;
  z-index: 20;
  display: none;
  background: radial-gradient(circle at center, color-mix(in oklab, var(--bg-2), black 15%), #03050f 70%);
  align-items: center;
  justify-content: center;
  flex-direction: column;
  gap: 1rem;
}
.zen-countdown { width: min(540px, 86vw); }
#exit-zen-btn { position: absolute; top: 1rem; right: 1rem; }
body.zen-mode .zen-overlay { display: flex; }

@media (max-width: 1080px) {
  .app-shell { grid-template-columns:1fr; }
  .grid.three-col { grid-template-columns:1fr; }
}
